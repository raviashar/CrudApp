<div class="crud-container">
  <h1>Angular Crud Application</h1>

  <div class="crud-add__wrap">

    <!--Add List-->
    <div class="crud-add__list">
      <h4>Add Data:</h4>

      <form #userForm="ngForm" class="example-form width-100" novalidate>

        <mat-form-field class="example-full-width width-100">
          <input matInput required #name="ngModel" placeholder="Name" name="name" [(ngModel)]="model.name" autocomplete="off">
          <mat-error *ngIf="name.errors?.required && (name.touched || name.dirty)">This Field is Required</mat-error>
        </mat-form-field>

        <mat-form-field class="example-full-width width-100">
          <input matInput required #designation="ngModel" placeholder="Designation" name="designation" [(ngModel)]="model.designation" autocomplete="off">
          <mat-error *ngIf="designation.errors?.required">This Field is Required</mat-error>
        </mat-form-field>

        <mat-form-field class="example-full-width width-100">
          <input matInput required #organization="ngModel" placeholder="Organization" name="organization" [(ngModel)]="model.organization" autocomplete="off">
          <mat-error *ngIf="organization.errors?.required && (organization.touched || organization.dirty)">This Field is Required</mat-error>
        </mat-form-field>

        <button mat-button mat-raised-button color="primary" (click)="addUser()" [disabled]="!userForm.valid">Add Member</button>
      </form>
    </div>

    <br /> <br />

    <!--View List-->
    <div class="crud-view__list">
      <h4>List Data:</h4>

      <div class="crud-view__row crud-view__header">
        <div class="crud-view-inner__list">Name </div>
        <div class="crud-view-inner__list">Designation </div>
        <div class="crud-view-inner__list">Organization </div>
        <div class="crud-view-inner__list crud-btn">Action</div>
      </div>

      <div class="crud-view__row" *ngFor="let userList of userDetails; let i = index">

        <div class="crud-view-inner__list">
          <div *ngIf="!userList.isEditable"> {{userList.name}} </div>

          <mat-form-field class="example-full-width width-100" *ngIf="userList.isEditable">
            <input matInput id="name" name="name" [(ngModel)]="userList.name" />
          </mat-form-field>
        </div>

        <div class="crud-view-inner__list">
          <div *ngIf="!userList.isEditable"> {{userList.designation}} </div>

          <mat-form-field class="example-full-width width-100" *ngIf="userList.isEditable">
            <input matInput id="designation" name="designation" [(ngModel)]="userList.designation" />
          </mat-form-field>

        </div>

        <div class="crud-view-inner__list">
          <div *ngIf="!userList.isEditable"> {{userList.organization}} </div>

          <mat-form-field class="example-full-width width-100" *ngIf="userList.isEditable">
            <input matInput id="organization" name="organization" [(ngModel)]="userList.organization" />
          </mat-form-field>
        </div>

        <div class="crud-view-inner__list crud-btn">
          <button mat-raised-button class="btn-edit" (click)="editUser(userList, i)" *ngIf="!userList.isEditable">Edit</button>
          <button mat-raised-button class="btn-delete" (click)="deleteUser(i)" *ngIf="!userList.isEditable">Delete</button>
          <button mat-raised-button class="btn-edit" (click)="updateUser(userList)" *ngIf="userList.isEditable">Save</button>
          <button mat-raised-button class="btn-delete" (click)="cancelUser(userList, i)" *ngIf="userList.isEditable">Cancel</button>
        </div>
      </div>
    </div>
  </div>

</div>
